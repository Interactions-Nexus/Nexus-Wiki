<!--
title: 软件堆栈
description: 7 层软件堆栈
published: true
date: 2022-11-10T16:09:30.383Z
tags: 
editor: ckeditor
dateCreated: 2022-11-10T08:39:08.045Z
-->

<p>软件堆栈</p>
<p style="text-align:justify;">Nexus 麟社架构设计为七层软件堆栈，其中包括一个基于 64 位寄存器的处理虚拟机。 每一层都被指定为相互独立地执行一个专门的处理，为现有的 互联网堆栈（OSI 模型）提供附加功能。 这使麟社成为模块化区块链。</p>
<p>&nbsp;</p>
<figure class="image image_resized" style="width:40.15%;"><img src="/7_layer_stack.png">
  <figcaption>7 层软件堆栈</figcaption>
</figure>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;">让我们分别深入研究每一层的工作原理：</p>
<p>界面层</p>
<p>界面是用户空间，即用于与 dapp 交互的按钮。这一层可以伴随从 AR/VR 到移动界面的各种技术。我们的官方接口层为开发人员提供了一个平台来构建直接嵌入到麟社钱包中的模块和应用程序。</p>
<p>&nbsp;</p>
<p>逻辑层</p>
<p>这是开发人员应用程序空间的第一层，它形成了大多数应用程序的逻辑。该层直接与其下方的 API 交互，并提供不依赖于直接访问区块链的功能。这方面的一个例子可能是简单的请求，例如：“如果另一个用户完成了此事件，则向该用户发送消息。”我们臆测未来这一层也将由人工智能系统驱动。</p>
<p>&nbsp;</p>
<p>API 层</p>
<p>该层提供了一个接口，允许开发人员直接访问区块链功能。它基于简单的动词和名词语义，并接受多种编码。它是进入区块链的网关，无需直接访问较低层的软件堆栈即可使用，使在麟社的开发就像开发互联网应用程序一样简单。</p>
<p>&nbsp;</p>
<p>操作层</p>
<p>操作是给寄存器前后关系的指令或动作，并定义更复杂的合约逻辑。合约是一个物件，包含：一个寄存器预状态（正在操作的寄存器，从寄存器层向上传递），一个原始操作（每个合约只有一个原始操作）和一组条件（任何数量的条件操作）。</p>
<p>原始操作：</p>
<p>操作层的当前迭代包含 16 个原始操作和 54 个条件操作和类型。原始操作可以最好地描述为发生在寄存器上的动作，例如：写入、借记、转移、追加等。这些动作本身会导致寄存器以某种方式或形式改变其状态，包括其从一个签名的移动链到另一个。</p>
<p>条件合约：</p>
<p>条件合约是参与方之间的协议，概述了完成交易必须满足的一组要求。它们是允许用户彼此互动的基石，例如合约到期或物品交换。更高级的非托管托管或仲裁形式也是可能的。条件语句对其复杂性没有限制，能够处理一起评估为 true 真或 false 假的条件组。在条件返回 true 真的情况下，这允许交易的接收者索取他们的资金或物件（取决于这是转移还是借记）。在收款方无法满足条件的情况下，在发送方设定的时间后，交易将可赎回。</p>
<p>&nbsp;</p>
<p>寄存器层</p>
<p>寄存器是计算机 CPU（中央处理单元）内最快的存储介质，处理器使用它来缓存计算之间的数据。作为对称为“堆栈”的更古老架构的改进，这已成为计算机设计更理想的架构。</p>
<p>Nexus 麟社寄存器是一种数据存储系统，可维护不可逆变的记录和历史记录，包括当前和以前的状态，因此它们可用于记录应用程序的状态。</p>
<p>寄存器的所有权可以在 Sigchains 签名链之间转移，因此可以作为资产、通证或简单的物件，例如 crypto kitty（加密猫）。寄存器也可以由通证拥有，从而创建它所代表的资产的部分所有权。寄存器层由三个主要组件组成：物件寄存器、状态寄存器和用于条件执行的 64 位数基于寄存器的虚拟机。</p>
<p>Nexus 麟社区块链上的每个寄存器都有两个主要属性：一个地址（称为寄存器地址），用于确定寄存器数据库中数据的位置，以及一个持有者，它是签名链的创世哈希，目前拥有寄存器。</p>
<p>&nbsp;</p>
<p>物件寄存器：</p>
<p>物件寄存器是用预定结构记录的可编程类型安全物件，该结构描述资产、通证或程序员的物件。 它们可用于多种用途，包括公司股份、数字资产、证书、数据文件和账户。 物件内的数据字段带有定义字段是否可变的指示符号，使物件本身能够强制某些字段具有只读或写访问权限。</p>
<p><mark class="marker-blue">Image ID: 108629084398374</mark></p>
<p><mark class="marker-blue">License Type: Enhanced</mark></p>
<p><mark class="marker-blue">Image Title: Arizona Sunset</mark></p>
<p>上面的示例显示了存储在可编程物件寄存器中的摄影资产的元数据格式。这种格式可以通过可变和不可变类型指示符号进行扩充，这意味着上面示例中的“图像标题”等字段可以是可变的并且可以修改，而其他字段将保持不可变。</p>
<p>&nbsp;</p>
<p>状态寄存器：</p>
<p>状态寄存器是一个简单的寄存器，可以以任何顺序存储数据，而无需分类帐本强制格式。 Dapp 去中心化应用将使用这些来记录不可变状态。状态寄存器有两种形式：RAW 和 APPEND。 RAW 寄存器受其初始大小的限制，可以随时写入，而 APPEND 寄存器只能将数据附加到其状态，从而保持原始内容不可变。</p>
<p>&nbsp;</p>
<p>虚拟机：</p>
<p>条件语句在虚拟机之上处理，虚拟机使用 64 位数寄存器在处理临时条件变量时维护它们的状态。 VM 虚拟机提高了条件语句的效率，因为它不像其他 VM 虚拟机那样承担从堆栈中“推送和弹出”的开销。寄存器层的这一部分负责条件执行的惊人速度，每条指令平均只需要 50 纳秒。</p>
<p>&nbsp;</p>
<p>分类账本层</p>
<p>分类账本负责确保所有数据都是在共识下形成的，并且本质上是不可逆变的。它使用哈希、数字签名和共识协议等加密原码来管理各方之间的持有权。它由用户层状态的签名链和提议的全局状态三维链（3DC）架构组成，后者正在通过 TAO 麟道框架进行开发。</p>
<p>&nbsp;</p>
<p>签名链：</p>
<p>签名链是一个去中心化的区块链账户，允许您使用 username 用户名称、password 登录密码和 pin 操作密码从任何计算机登录，而无需 wallet.dat 文件或不断重新扫描数据库。它们类似于个人区块链，允许通过登录系统进行分散访问，无需存储私钥。 Sigchains 签名链确定性地创建了一个数学“锁”，只有您的登录凭据才能解锁。</p>
<p>从根本上说，签名链将私钥与账户解耦，因此不受此单个私钥的拥有或安全性的约束。当生成下一个交易时，私钥就会被废弃，与其他区块链技术的持续重复使用私钥相比，它会产生更高级别的安全性。其他好处来自通过减少在磁盘上存储大量签名的要求所获得的效率，麟社也使用各种密钥类型（如 FALCON）来增加抗量子机攻击的能力。</p>
<p>&nbsp;</p>
<p>共识：</p>
<p>两个工作量证明 (PoW) 通道（Prime 质数和 hash 哈希）和一个权益证明 (PoS) 通道用于保护网络。所有三个通道之间的共识是平衡的，因为它基于集体链权重，与单一算法区块链相比，提供具有更高的抵抗 51% 攻击的能力。随着 TAO 麟道框架的发展，这三种形式的共识将成为 3DC 三维链的三个层。</p>
<p>&nbsp;</p>
<p>信誉：</p>
<p>Nexus 实现了一种称为 “Trust 信誉数值” 的信任机制，该机制记录了节点对验证过程做出贡献的持续时间。信誉数值递减的速度是其增加的三倍，并转化为每年从初始 0.5% 至 3% 变量的权益奖励。信誉数值也有利于网络层，其中节点可以确定他们正在与之交谈的节点的信誉或可靠性，从而提高针对 Sybil 攻击的安全性。</p>
<p>&nbsp;</p>
<p>网络层</p>
<p>网络层负责节点之间的端到端通信，处理分类账本层数据的中继和接收。 Nexus 麟社通过使用向网络提供 IPv6 功能的 “overlay" 叠加层来增强这一层，允许用户通过加密控制他们的 IP 地址。</p>
<p>&nbsp;</p>
<p>叠加层：</p>
<p>我们选择的叠加是 LISP（位置指示符分离协议）。这在对等点之间创建了更好的连接，因为当与分类帐本（区块链）结合时，叠加层作为对互联网的 ‘elevated trust’ 提升信任层发挥作用，从而提高了在线体验的安全性、可靠性和安全性。</p>
<p>&nbsp;</p>
<p>IPv6：</p>
<p>LISP 叠加将 IPv6 加密 EID 与签名链相结合，实现完全加密的点对点通信系统并通过分类帐本识别加密密钥。</p>
<p>&nbsp;</p>
<p>Multicast 多播：</p>
<p>通过 Amine 麟胺和 Obsidian 麟耀石升级，我们将部署 Multicast 多播链接用于消息传播，与现有区块链模型（指数时间）相比，这将为我们提供更高程度的可扩展性（恒定时间）。恒定时间路由的意义在于，消息从网络的边缘到边缘的中继速度要快得多，即使有大量连接的节点也是如此。</p>
